name: Debug Project Structure

on:
  push:
    branches: [ main, master ]

jobs:
  debug:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4

    - name: Analyze repository structure
      run: |
        echo "=== ROOT DIRECTORY ==="
        ls -la
        
        echo ""
        echo "=== METER INFO FOLDER ==="
        if [ -d "Meter Info" ]; then
          ls -la "Meter Info/"
          
          echo ""
          echo "=== GRADLE FILES CHECK ==="
          echo "gradlew exists: $([ -f "Meter Info/gradlew" ] && echo "YES" || echo "NO")"
          echo "settings.gradle exists: $([ -f "Meter Info/settings.gradle" ] && echo "YES" || echo "NO")"
          echo "build.gradle exists: $([ -f "Meter Info/build.gradle" ] && echo "YES" || echo "NO")"
          echo "app/build.gradle exists: $([ -f "Meter Info/app/build.gradle" ] && echo "YES" || echo "NO")"
          
          echo ""
          echo "=== FIND ALL GRADLE FILES ==="
          find "Meter Info" -name "*.gradle*" -type f | sort || echo "No gradle files found"
          
          echo ""
          echo "=== FIND ALL FILES AND FOLDERS ==="
          find "Meter Info" -type f -name "*" | head -20 | sort
        else
          echo "‚ùå 'Meter Info' folder not found!"
          echo "Available folders:"
          find . -maxdepth 2 -type d | sort
        fi
